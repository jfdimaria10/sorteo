<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorteo PwC</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Activar animación global al cargar -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.body.classList.add("loaded");
        });
    </script>
</head>
<body>

    <header>
        <h1>Sorteo PwC</h1>
    </header>

    <main>
        <div class="container">

            <div class="left-panel">
                <div class="button-group">
                    <button id="generateBtn">Seleccionar Ganador</button>
                    <button id="clearBtn" class="clear">Limpiar Lista</button>
                </div>

                <p id="remaining" class="remaining-count">Ganadores posibles restantes: 36</p>
                <p id="status" class="status"></p>
            </div>

            <div class="right-panel">
                <h2>Ganadores</h2>
                <ul id="winnersList"></ul>
            </div>

        </div>
    </main>

    <!-- Librería de confeti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        const names = [
            "Adriana Isabel Álvarez Infanzón", "Adriana Marcela Correa Negrete", "Alejandra Taborda Arango", "Alejandro Estrada Sierra", "Alex Javier Martinez Gomez", "Alex Jhon Rivas Copete", "Alexandra Mejía", "Ana Gabriel Sanabria Ramirez", "Ana Maria Montes", "Ana Maria Valencia", "Andrea Valverde Garces", "Andres David Tavera Arias", "Andres Felipe Fernandez Carvajal", "Angela Maria Jimenez Rosero", "Angie Gabriela Lopez Cifuentes", "Angie Milena Gallego Grisales", "Angie Paola Laguna Barbosa", "Astrid Elena Ortiz Hoyos", "Bernardo De Jesus Aristizabal Silvera", "Brayan Alejandro Ortiz P", "Bryhian Mateo Hurtado Mosquera", "Camilo Andrés Botía Rios", "Camilo Andrés Cruz González", "Carlos Alberto Gómez", "Carolina Ocampo Del Rio", "Carolina Ramirez Martinez", "Carolina Sanchez Cuadrado", "Catalina Toro Echeverri", "Christian Zapata Amariles", "Claudia Patricia Granja Murillo", "Cristian Camilo Sanchez Correa", "Cristian Felipe Quintero Suaza", "Daiana Florez Rios", "Daniela García Berrio", "Daniela Orozco Arango", "Daniela Sarmiento Pérez", "Danny Goez Guisao", "David Felipe Gutiérrez Reyes", "David Julian Ruiz Iregui", "Deycy Lucia Luna Mercado", "Diego Alexander Ortiz Paez", "Dorian Echeverry", "Eliana Patricia Barboza Martinez", "Ely Yohana Córdoba Mosquera", "Emmerson Salazar Tobon", "Erenia Portillo Alvarez", "Erica Maria Moreno Quiceno", "Erika Maria Espinosa Parra", "Esteban Marín Cardona", "Estefani Blandón Saldarriaga", "Fabian Alexis Pardo Higuera", "Felipe Ochoa Saldarriaga", "Francy Cristina Vergara Zuleta", "Freddy Alexander Zapata Ospina", "Génesis Álvarez Vidal", "Geraldin Flórezguzmán", "Geraldin Peña Rendon", "Giancarlo Martinez Poveda", "Herick Nuñez Viana", "Hernan David Trujillo Choconta", "Isabela Uribe Henao", "Jaime Parra Cardona", "Jairo Vélez", "Janny Yusseth Mosquera Aguilar", "Jany Janeth Durango López", "Jhon Eduard Builes Agudelo", "Jhon Freddy Mosquera", "Joaquin Molina", "Johana Vásquez Torres", "Jonatan Orozco Orozco", "Jonatan Soto Rivera", "Jorge Andrés Herrera Vélez", "Jose David Jaramillo Castrillon", "José Luis Redondo Aguilar", "Jozuldys Azuaje", "Juan Camilo Valencia Londoño", "Juan José Toro Delgado", "Juan Jose Zapata Zapata", "Juan Manuel González Valencia", "Juan Sebastian Avila Villarraga", "Julian Andres Palacio Murillo", "Julián Andrés Tangarife Pereira", "Julian Calle Villada", "Julian Camilo Coral Rodriguez", "Julian Eduardo Saavedra Sanchez", "Julian Osorio Taborda", "Juliana Andrea Jaramillo Arango", "Juliana Ortiz Jiménez", "Julieth Johana Hernandez Garzon", "Julieth Paulina Cano Montoya", "Karen Aldana", "Karen Daihana Avella Arevalo", "Karen Dayana Guerra Cardona", "Karen Viviana Sanchez Reyes", "Karent Asprilla", "Katherine Escobar Barrera", "Kenny Vanessa Moreno", "Keving Luis Lopez Dean", "Laura Pérez Mejía", "Laura Suárez", "Lauren Katerine Correa Gómez", "Leidy Dayana Londoño Mazo", "Leidy Elena Chaves Quiceno", "Liceth Fernanda Orrego Hernandez", "Liliana María Castaño Toro", "Lined Johanna Ramírez", "Liseth Paola Arboleda Uribe", "Luis Esteban Palacio Vasquez", "Luis Felipe Garcia", "Luis Fernando Ordoñez Diaz", "Luis Miguel Tobon Rua", "Luisa Fernanda Arango Sanchez", "Luisa Fernanda Cogollo Galindo", "Luz Adriana Duque Ramírez", "Mallely Arenas Sucerquia", "Manuela Jiménez Londoño", "Manuela Sanchez Gallo", "Marcela Sugey Delgado Centeno", "Margy Daniela Echeverry Leon", "María Alejandra Jaramillo Urrego", "Maria Camila García Castañeda", "Maria Camila Quiroz Monsalve", "Maria Cristina Arboleda", "Maria Fernanda Castañeda Zuluaga", "María Isabel García Jaramillo", "Maria Isabel Idarraga Tapias", "Maria Jimena Salazar Seguro", "Maria Paulina González González", "Mariana Botero", "Mariana Gomez Perez", "Mariana Rodriguez Orozco", "Maricielo Zapata Calle", "Marisol Gomez Gonzales", "Maritza Correa Monsalve", "Marlin Yineth Palacios Cordoba", "Mayra Alejandra Castaño Salazar", "Miguel Angel Gonzalez Pacheco", "Miguel Jiménez Gómez", "Milena Quiros Lesmes", "Monica Maria Acevedo Arboleda", "Nairo Fonseca De León", "Nancy Paola Marroquin Villescas", "Natalia Arias Villa", "Natalia Arroyave Cardona", "Nicolle Tatiana Cuellar Diaz", "Noemi Acosta Vidal", "Paola Andrea Gutiérrez Ramírez", "Paola Andrea Luna", "Paula Andrea Jaimes Ospina", "Pierangelis Pacheco Arzuza", "Reinerio Andres Mosquera Palacios", "Richard Aníbal Rodríguez Jiménez", "Samuel León Yurgaky Ramos", "Samuel Martinez Otalvaro", "Santiago Bedoya Araque", "Santiago Isaza Peña", "Sara Maria Cadavid Alzate", "Sebastian Camilo Polo Roldan", "Sebastián Castaño Quintero", "Sebastián Cataño Isaza", "Sebastián Moná Berrio", "Sebastián Vélez Márquez", "Sergio Cardona Tangarife", "Sergio Restrepo Restrepo", "Sharon Elizabeth Prada Hernandez", "Sharyd Valencia Botina", "Shirley Taborda Montoya", "Sofia Palacio Restrepo", "Sujey Estella Martínez Olascoaga", "Tatiana Cárdenas Palacio", "Tatiana Lopez Arenas", "Tatiana Méndez López", "Tomas Eduardo Peñaloza Morales", "Valeria Muñoz Arias", "Vanesa Bustamante", "Vanessa Andrea Alzate Valencia", "Walter Echevrri", "Wilker Israel Mosquera Valderrama", "Yeismy Acosta Baza", "Yenifer Mariana Ochoa García", "Yennifer Andrea Sánchez Arboleda", "Yisela Andrea Romero Suarez", "Yonier Leudo Romaña", "Yuliana Andrea Vasco Ospina", "Yuliana Parra Martinez", "Yulieth Natalia Serna Gómez", "Yurany Mosquera Copete", "Zendy Julieth Marulanda Hincapie"
        ];

        let winners = [];

        const generateBtn = document.getElementById("generateBtn");
        const clearBtn = document.getElementById("clearBtn");
        const winnersList = document.getElementById("winnersList");
        const status = document.getElementById("status");
        const remaining = document.getElementById("remaining");

        function updateRemaining() {
            remaining.textContent = "Ganadores posibles restantes: " + (36 - winners.length);
        }

        function fireworks() {
            const duration = 1200;
            const animationEnd = Date.now() + duration;

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);

                confetti({ particleCount: 50, angle: 60, spread: 55, origin: { x: 0 } });
                confetti({ particleCount: 50, angle: 120, spread: 55, origin: { x: 1 } });
                confetti({ particleCount: 40, spread: 70, startVelocity: 60, origin: { x: 0.5, y: 0.3 } });
            }, 200);
        }

        generateBtn.addEventListener("click", () => {
            if (winners.length >= 36) {
                status.textContent = "Ya no hay más ganadores disponibles.";
                return;
            }

            status.textContent = "Pensando...";
            status.classList.add("thinking");

            let time = Math.floor(Math.random() * (5000 - 3000 + 1)) + 3000;

            setTimeout(() => {
                status.classList.remove("thinking");

                let available = names.filter(n => !winners.includes(n));
                let selected = available[Math.floor(Math.random() * available.length)];

                winners.push(selected);
                updateRemaining();

                status.textContent = "Seleccionado: " + selected;

                // Crear elemento ganador
                let li = document.createElement("li");
                li.textContent = selected;

                // Quitar "latest" del ganador anterior
                let previousLatest = winnersList.querySelector(".latest");
                if (previousLatest) previousLatest.classList.remove("latest");

                // Agregar la clase al nuevo ganador
                li.classList.add("latest");

                winnersList.appendChild(li);
                winnersList.scrollTop = winnersList.scrollHeight;

                confetti({
                    particleCount: 300,
                    spread: 180,
                    ticks: 200,
                    startVelocity: 55,
                    origin: { x: 0.5, y: 0 }
                });

                fireworks();

            }, time);
        });

        clearBtn.addEventListener("click", () => {
            winners = [];
            winnersList.innerHTML = "";
            updateRemaining();
            status.textContent = "";
        });

    </script>

</body>
</html>


